<?xml version="1.0"?>

<project name="soyc-vis" default="build" basedir=".">

  <property name="gwt.root" location="../.." />
  <property name="project.tail" value="tools/soyc-vis" />
  <import file="${gwt.root}/common.ant.xml" />
  
  <!-- Platform shouldn't matter here, just picking one -->
  <property.ensure name="gwt.dev.jar" location="${gwt.build.lib}/gwt-dev-${build.host.platform}.jar" />

  <target name="clean">
    <delete dir="build"/>
  </target>

  <target name="compile">
    <mkdir dir="${javac.out}/com/google/gwt/soyc/resources/images"/>
    <copy todir="${javac.out}/com/google/gwt/soyc/resources/images">
      <fileset dir="images"/>
    </copy>
    <copy file="classLevel.css" tofile="${javac.out}/com/google/gwt/soyc/resources/classLevel.css"/>
    <copy file="roundedCorners.css" tofile="${javac.out}/com/google/gwt/soyc/resources/roundedCorners.css"/>
    <copy file="common.css" tofile="${javac.out}/com/google/gwt/soyc/resources/common.css"/>
  </target>

  <target name="build" depends="compile">
    <!-- Build a transitional jar that is good enough for
         passing as -resources to SoycDashboard.  This jar
         is being phased out in favor of gwt-dev-platform.jar
         holding all the SOYC bits.  -->
    <jar destfile="${project.lib}">
      <fileset dir="${javac.out}" />
    </jar>
  </target>

  <target name="test"/>

  <target name="checkstyle"/>

</project>
